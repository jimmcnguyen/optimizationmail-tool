import requests, random, string, lxml.html, copy, xlrd, re
import time
from bs4 import BeautifulSoup
from xlutils.copy import copy
from selenium.webdriver.chrome.options import Options
from selenium.webdriver import Chrome


url = input('Enter account link: ')

browser = Chrome()
browser.get(url)
emailElem = browser.find_element_by_id('admin_email')
emailElem.send_keys('jimmyn@ad.iq')
pwElem = browser.find_element_by_id('admin_password')
pwElem.send_keys('Waterboy241!')
pwElem.submit()

print('logged in')
onlineProfileElem = browser.find_element_by_css_selector('#directories')
onlineProfileElem.click()
print('clicked online profile')
time.sleep(1.0)
editButton = browser.find_element_by_css_selector('#directories-panel > form > div:nth-child(4) > div:nth-child(1) > div > a')
editButton.click()
print('clicked edit button')
soup1 = BeautifulSoup(browser.page_source, 'lxml')
time.sleep(1.0)
emailField = browser.find_element_by_id('directory_account_email')
pwField = browser.find_element_by_id('directory_account_password')
saveButton = browser.find_element_by_css_selector('#edit_directory_account_32 > div > button')
if '@optimizationmail.com' not in soup1.text:
    emailField.send_keys('')
    print('added email')
    pwField.send_keys('')
    print('added pw')
    saveButton.click()
    print('click save')
    time.sleep(1.0)
elif '@optimizationmail.com' in soup1.text:
    print('skipped')
    pass
browser.quit()
